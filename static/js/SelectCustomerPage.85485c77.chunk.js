"use strict";(self.webpackChunkreact_antd_admin=self.webpackChunkreact_antd_admin||[]).push([[184],{91382:function(e,n,t){t.d(n,{Z:function(){return r}});t(72791);var i=t(33272),o=t(68678),a=t(80184);function r(e){e.isUpdateForm;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z.Item,{label:"company Name",name:"company",rules:[{required:!0,message:"Please input your company name!"}],children:(0,a.jsx)(o.Z,{})}),(0,a.jsx)(i.Z.Item,{label:"Surname",name:"surname",rules:[{required:!0,message:"Please input your surname!"}],style:{display:"inline-block",width:"calc(50%)",paddingRight:"5px"},children:(0,a.jsx)(o.Z,{})}),(0,a.jsx)(i.Z.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your manager name!"}],style:{display:"inline-block",width:"calc(50%)",paddingLeft:"5px"},children:(0,a.jsx)(o.Z,{})}),(0,a.jsx)(i.Z.Item,{name:"phone",label:"Phone",rules:[{required:!0,message:"Please input your phone!"}],children:(0,a.jsx)(o.Z,{})}),(0,a.jsx)(i.Z.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:(0,a.jsx)(o.Z,{})})]})}},97509:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var i=t(72791),o=t(66106),a=t(30914),r=t(87309),s=t(79286),c=t(22591),l=t(11203),u=t(2356),d=t(22403),m=t(40095),p=t(59434),f=t(40961),x=t(38789),g=t(33675),h=t(67495),Z=t(24215),j=t(31752),y=t(82622),I=t(61164),w=t(41661),C=t(4942),E=t(93433),k=t(1413),v=t(29439),_=t(32385),T=t(81477),b=t(67134),S=t(75033);function N(e){if(0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)throw new Error("Invalid HEX color.");return.299*parseInt(e.slice(0,2),16)+.587*parseInt(e.slice(2,4),16)+.114*parseInt(e.slice(4,6),16)>186?"#000000":"#FFFFFF"}var A=t(80184);function F(e){var n=e.config,t=e.DropDownRowMenu,o=e.AddNewItem,a=(0,i.useRef)(null),s=(0,i.useState)([]),c=(0,v.Z)(s,2),l=c[0],u=c[1],d=(0,i.useState)([]),m=(0,v.Z)(d,2),x=m[0],g=m[1],h=(0,i.useState)({}),Z=(0,v.Z)(h,2),j=Z[0],y=Z[1],F=function(){a.current.click()},D=function(e){var n={};l.map((function(t){n[t]=e.target.value}));y((0,k.Z)((0,k.Z)({},j),n)),u([])};function P(){return(0,A.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,A.jsx)(r.Z,{onClick:F,children:"Make new Color"}),(0,A.jsx)("input",{type:"color",ref:a,onChange:D,style:{opacity:0,position:"absolute",left:0,top:"10px",width:"100%"}})]})}var M=n.entity,R=n.dataTableColumns,B=n.dataTableTitle,L=R.map((function(e){return(0,k.Z)((0,k.Z)({},e),{},{render:function(e,n){return{props:{style:{background:j[n._id]?j[n._id]:"",color:j[n._id]?N(j[n._id]):""}},children:e}}})}));R=[].concat((0,E.Z)(L),[{title:"",render:function(e){return{props:{style:{background:j[e._id]?j[e._id]:"",color:j[e._id]?N(j[e._id]):""}},children:(0,A.jsx)(_.Z,{overlay:t({row:e}),trigger:["click"],children:(0,A.jsx)(S.Z,{style:{cursor:"pointer",fontSize:"24px"}})})}}}]);var K=(0,p.v9)(I.st),q=K.result,U=K.isLoading,Y=q.pagination,z=q.items,W=(0,p.I0)(),H=(0,i.useCallback)((function(e){W(f.S.list(M,e.current))}),[]);(0,i.useEffect)((function(){W(f.S.list(M))}),[]),(0,i.useEffect)((function(){var e=z.map((function(e){return e._id}));g(e)}),[z]);var O=(0,i.useState)(),V=(0,v.Z)(O,2),X=V[0],G=V[1],J=(0,i.useState)(!1),Q=(0,v.Z)(J,2),$=Q[0],ee=Q[1],ne=(0,C.Z)({selectedRowKeys:l,onChange:function(e,n){u(e),console.log("selectedRowKeys changed: ",l)},hideSelectAll:!0,columnWidth:0,renderCell:function(e,n,t,i){return{props:{style:{background:j[n._id]?j[n._id]:""}}}}},"selectedRowKeys",l);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(T.Z,{onBack:function(){return window.history.back()},title:B,ghost:!1,extra:[(0,A.jsx)(P,{config:n},"".concat((0,w.Z)())),(0,A.jsx)(r.Z,{onClick:H,children:"Refresh"},"".concat((0,w.Z)())),(0,A.jsx)(o,{config:n},"".concat((0,w.Z)()))],style:{padding:"20px 0px"}}),(0,A.jsx)(b.Z,{columns:R,rowKey:function(e){return e._id},rowSelection:ne,onRow:function(e,n){return{onClick:function(){},onMouseDown:function(){G(n),u([e._id]),ee(!0)},onMouseEnter:function(){if($){var e=x.slice(X,n+1);u(e)}},onMouseUp:function(){ee(!1)}}},ellipsis:!0,size:"small",dataSource:z,pagination:Y,loading:U,onChange:H})]})}function D(e){var n=e.config,t=(0,x.k)().crudContextAction,i=t.collapsedBox,o=t.panel,a=n.ADD_NEW_ENTITY;return(0,A.jsx)(r.Z,{onClick:function(){o.open(),i.close()},type:"primary",children:a})}function P(e){var n=e.row,t=(0,p.I0)(),i=(0,x.k)().crudContextAction,o=i.panel,a=i.collapsedBox,r=i.modal,s=i.readBox,c=i.editBox,l=(0,p.v9)((0,I.lK)(n._id));return(0,A.jsxs)(h.Z,{style:{width:130},children:[(0,A.jsx)(h.Z.Item,{icon:(0,A.jsx)(Z.Z,{}),onClick:function(){t(f.S.currentItem(l)),o.open(),a.open(),s.open()},children:"Show"},"".concat((0,w.Z)())),(0,A.jsx)(h.Z.Item,{icon:(0,A.jsx)(j.Z,{}),onClick:function(){t(f.S.currentAction("update",l)),c.open(),o.open(),a.open()},children:"Edit"},"".concat((0,w.Z)())),(0,A.jsx)(h.Z.Item,{icon:(0,A.jsx)(y.Z,{}),onClick:function(){t(f.S.currentAction("delete",l)),r.open()},children:"Delete"},"".concat((0,w.Z)()))]})}function M(e){var n=e.config;return(0,A.jsx)(F,{config:n,DropDownRowMenu:P,AddNewItem:D})}function R(e){var n=e.config,t=e.formElements;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(d.Z,{config:n}),(0,A.jsx)(l.Z,{config:n,formElements:t})]})}function B(e){var n=e.config,t=(0,x.k)().crudContextAction.collapsedBox;return(0,A.jsxs)("div",{className:"box",children:[(0,A.jsx)(o.Z,{gutter:12,children:(0,A.jsx)(a.Z,{className:"gutter-row",span:21,children:(0,A.jsx)("h1",{style:{fontSize:20,marginBottom:20},children:n.panelTitle})})}),(0,A.jsxs)(o.Z,{gutter:8,children:[(0,A.jsx)(a.Z,{className:"gutter-row",span:21,children:(0,A.jsx)(m.Z,{config:n})}),(0,A.jsx)(a.Z,{className:"gutter-row",span:3,children:(0,A.jsx)(r.Z,{onClick:function(){t.close()},block:!0,icon:(0,A.jsx)(s.Z,{})})})]})]})}function L(e){var n=e.config,t=e.createForm,o=e.updateForm,a=(0,p.I0)();return(0,i.useLayoutEffect)((function(){a(f.S.resetState())}),[]),(0,A.jsxs)(g.KK,{config:n,fixHeaderPanel:(0,A.jsx)(B,{config:n}),sidePanelBottomContent:(0,A.jsx)(c.Z,{config:n,formElements:t}),sidePanelTopContent:(0,A.jsx)(R,{config:n,formElements:o}),children:[(0,A.jsx)(M,{config:n}),(0,A.jsx)(u.Z,{config:n})]})}var K=t(91382);var q=function(){var e={entity:"client",panelTitle:"SelectCustomer Panel",dataTableTitle:"Customers Lists",ENTITY_NAME:"customer",CREATE_ENTITY:"Create customer",ADD_NEW_ENTITY:"Add new customer",UPDATE_ENTITY:"Update customer",DATATABLE_TITLE:"customers List",readColumns:[{title:"Company",dataIndex:"company"},{title:"Manager Surname",dataIndex:"surname"},{title:"Manager Name",dataIndex:"name"},{title:"Email",dataIndex:"email"},{title:"Phone",dataIndex:"phone"}],dataTableColumns:[{title:"Company",dataIndex:"company"},{title:"Manager Surname",dataIndex:"surname"},{title:"Manager Name",dataIndex:"name"},{title:"Email",dataIndex:"email"}],searchConfig:{displayLabels:["company","surname","name"],searchFields:"company,surname,name",outputValue:"_id"},entityDisplayLabels:["company"]};return(0,A.jsx)(L,{createForm:(0,A.jsx)(K.Z,{}),updateForm:(0,A.jsx)(K.Z,{isUpdateForm:!0}),config:e})}}}]);
//# sourceMappingURL=SelectCustomerPage.85485c77.chunk.js.map