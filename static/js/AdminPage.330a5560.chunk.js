"use strict";(self.webpackChunkreact_antd_admin=self.webpackChunkreact_antd_admin||[]).push([[249],{64072:function(e,n,t){t.d(n,{Z:function(){return p}});var a=t(93433),r=t(72791),i=t(32385),s=t(81477),o=t(87309),c=t(67134),l=t(75033),u=t(59434),d=t(40961),m=t(61164),f=t(41661),x=t(80184);function p(e){var n=e.config,t=e.DropDownRowMenu,p=e.AddNewItem,Z=n.entity,j=n.dataTableColumns,h=n.dataTableTitle;j=[].concat((0,a.Z)(j),[{title:"",render:function(e){return(0,x.jsx)(i.Z,{overlay:t({row:e}),trigger:["click"],children:(0,x.jsx)(l.Z,{style:{cursor:"pointer",fontSize:"24px"}})})}}]);var g=(0,u.v9)(m.st),v=g.result,w=g.isLoading,y=v.pagination,I=v.items,C=(0,u.I0)(),E=(0,r.useCallback)((function(e){C(d.S.list(Z,e.current))}),[]);return(0,r.useEffect)((function(){C(d.S.list(Z))}),[]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(s.Z,{onBack:function(){return window.history.back()},title:h,ghost:!1,extra:[(0,x.jsx)(o.Z,{onClick:E,children:"Refresh"},"".concat((0,f.Z)())),(0,x.jsx)(p,{config:n},"".concat((0,f.Z)()))],style:{padding:"20px 0px"}}),(0,x.jsx)(c.Z,{columns:j,rowKey:function(e){return e._id},dataSource:I,pagination:y,loading:w,onChange:E})]})}},37760:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var a=t(72791),r=t(66106),i=t(30914),s=t(87309),o=t(79286),c=t(22591),l=t(11203),u=t(2356),d=t(22403),m=t(40095),f=t(59434),x=t(40961),p=t(38789),Z=t(33675),j=t(67495),h=t(24215),g=t(31752),v=t(38999),w=t(82622),y=t(61164),I=t(41661),C=t(64072),E=t(80184);function T(e){var n=e.config,t=(0,p.k)().crudContextAction,a=t.collapsedBox,r=t.panel,i=n.ADD_NEW_ENTITY;return(0,E.jsx)(s.Z,{onClick:function(){r.open(),a.close()},type:"primary",children:i})}function k(e){var n=e.row,t=(0,f.I0)(),a=(0,p.k)().crudContextAction,r=a.panel,i=a.collapsedBox,s=a.modal,o=a.advancedBox,c=a.readBox,l=a.editBox,u=(0,f.v9)((0,y.lK)(n._id));return(0,E.jsxs)(j.Z,{style:{minWidth:130},children:[(0,E.jsx)(j.Z.Item,{icon:(0,E.jsx)(h.Z,{}),onClick:function(){t(x.S.currentItem(u)),r.open(),i.open(),c.open()},children:"Show"},"".concat((0,I.Z)())),(0,E.jsx)(j.Z.Item,{icon:(0,E.jsx)(g.Z,{}),onClick:function(){t(x.S.currentAction("update",u)),l.open(),r.open(),i.open()},children:"Edit"},"".concat((0,I.Z)())),(0,E.jsx)(j.Z.Item,{icon:(0,E.jsx)(v.Z,{}),onClick:function(){t(x.S.currentAction("update",u)),o.open(),r.open(),i.open()},children:"Update Password"},"".concat((0,I.Z)())),(0,E.jsx)(j.Z.Item,{icon:(0,E.jsx)(w.Z,{}),onClick:function(){t(x.S.currentAction("delete",u)),s.open()},children:"Delete"},"".concat((0,I.Z)()))]})}function A(e){var n=e.config;return(0,E.jsx)(C.Z,{config:n,DropDownRowMenu:k,AddNewItem:T})}var b=t(29439),N=t(33272),S=t(68678),_=t(50849),F=t(74165),P=t(15861);var B=t(87209);function D(e){e.config;var n=(0,f.I0)(),t=(0,f.v9)(y.os).current,r=(0,p.k)().state,i=N.Z.useForm(),o=(0,b.Z)(i,1)[0],c=function(){var e=(0,a.useState)(null),n=(0,b.Z)(e,2),t=n[0],r=n[1],i=(0,a.useState)(!1),s=(0,b.Z)(i,2),o=s[0],c=s[1],l=(0,a.useState)(!1),u=(0,b.Z)(l,2),d=u[0],m=u[1],f=function(){var e=(0,P.Z)((0,F.Z)().mark((function e(n){var t;return(0,F.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,n();case 3:!0===(t=e.sent).success&&(c(!0),r(t.result)),m(!1);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{onFetch:f,result:t,isSuccess:o,isLoading:d}}(),l=c.onFetch,u=(c.result,c.isLoading),d=c.isSuccess;(0,a.useEffect)((function(){d&&(o.resetFields(),n(x.S.resetAction("update")))}),[d]);var m=r.isAdvancedBoxOpen?{display:"block",opacity:1}:{display:"none",opacity:0};return(0,E.jsx)("div",{style:m,children:(0,E.jsxs)(_.Z,{isLoading:u,children:[(0,E.jsx)("h3",{children:"Update Password"}),(0,E.jsx)("div",{className:"space"}),(0,E.jsxs)(N.Z,{form:o,layout:"vertical",onFinish:function(e){var n=t._id;l((function(){return B.W.patch("admin/password-update/"+n,e)}))},children:[(0,E.jsx)(N.Z.Item,{label:"New Password",name:"password",rules:[{required:!0,message:"Please input your Password!",len:8}],children:(0,E.jsx)(S.Z,{prefix:(0,E.jsx)(v.Z,{className:"site-form-item-icon"}),type:"password",autoComplete:"off"})}),(0,E.jsx)(N.Z.Item,{children:(0,E.jsx)(s.Z,{type:"primary",htmlType:"submit",children:"Update"})})]})]})})}function L(e){var n=e.config,t=e.formElements;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(d.Z,{config:n}),(0,E.jsx)(l.Z,{config:n,formElements:t}),(0,E.jsx)(D,{config:n})]})}function U(e){var n=e.config,t=(0,p.k)().crudContextAction.collapsedBox;return(0,E.jsxs)("div",{className:"box",children:[(0,E.jsx)(r.Z,{gutter:12,children:(0,E.jsx)(i.Z,{className:"gutter-row",span:21,children:(0,E.jsx)("h1",{style:{fontSize:20,marginBottom:20},children:n.panelTitle})})}),(0,E.jsxs)(r.Z,{gutter:8,children:[(0,E.jsx)(i.Z,{className:"gutter-row",span:21,children:(0,E.jsx)(m.Z,{config:n})}),(0,E.jsx)(i.Z,{className:"gutter-row",span:3,children:(0,E.jsx)(s.Z,{onClick:function(){t.close()},block:!0,icon:(0,E.jsx)(o.Z,{})})})]})]})}var z=function(e){var n=e.config,t=e.createForm,r=e.updateForm,i=(0,f.I0)();return(0,a.useLayoutEffect)((function(){i(x.S.resetState())}),[]),(0,E.jsxs)(Z.KK,{config:n,fixHeaderPanel:(0,E.jsx)(U,{config:n}),sidePanelBottomContent:(0,E.jsx)(c.Z,{config:n,formElements:t}),sidePanelTopContent:(0,E.jsx)(L,{config:n,formElements:r}),children:[(0,E.jsx)(A,{config:n}),(0,E.jsx)(u.Z,{config:n})]})};function M(e){var n=e.isUpdateForm,t=void 0!==n&&n;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(N.Z.Item,{label:"E-mail",name:"email",rules:[{required:!0,message:"Please input your Email!"}],children:(0,E.jsx)(S.Z,{autoComplete:"off"})}),!t&&(0,E.jsx)(N.Z.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:(0,E.jsx)(S.Z,{type:"password",autoComplete:"off"})}),(0,E.jsx)(N.Z.Item,{label:"name",name:"name",rules:[{required:!0}],children:(0,E.jsx)(S.Z,{autoComplete:"off"})}),(0,E.jsx)(N.Z.Item,{label:"surname",name:"surname",rules:[{required:!0}],children:(0,E.jsx)(S.Z,{autoComplete:"off"})})]})}function q(){var e={entity:"admin",panelTitle:"Admin Panel",dataTableTitle:"Admin Lists",ENTITY_NAME:"admin",CREATE_ENTITY:"Create admin",ADD_NEW_ENTITY:"Add new admin",UPDATE_ENTITY:"Update admin",DATATABLE_TITLE:"Admins List",readColumns:[{title:"Name",dataIndex:"name"},{title:"Surname",dataIndex:"surname"},{title:"Email",dataIndex:"email"}],dataTableColumns:[{title:"Name",dataIndex:"name"},{title:"Surname",dataIndex:"surname"},{title:"Email",dataIndex:"email"}],searchConfig:{displayLabels:["name","surname"],searchFields:"email,name,surname",outputValue:"_id"},entityDisplayLabels:["email"]};return(0,E.jsx)(z,{createForm:(0,E.jsx)(M,{}),updateForm:(0,E.jsx)(M,{isUpdateForm:!0}),config:e})}},38999:function(e,n,t){t.d(n,{Z:function(){return c}});var a=t(1413),r=t(72791),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},s=t(54291),o=function(e,n){return r.createElement(s.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:i}))};o.displayName="LockOutlined";var c=r.forwardRef(o)}}]);
//# sourceMappingURL=AdminPage.330a5560.chunk.js.map